# OpenAI 이미지 수정 도구

OpenAI DALL-E API를 사용하여 프롬프트 기반으로 이미지를 생성/수정하는 도구입니다.

## 🚀 빠른 시작

### 1. 필요한 라이브러리 설치
```bash
pip install openai python-dotenv requests pillow
```

### 2. OpenAI API 키 설정
1. [OpenAI API Keys 페이지](https://platform.openai.com/api-keys)에서 API 키를 발급받으세요
2. 프로젝트 루트 폴더에 `.env` 파일을 생성하세요
3. 다음 내용을 추가하세요:
```
OPENAI_API_KEY=your_actual_api_key_here
```

### 3. 프로그램 실행
```bash
# 메인 프로그램 실행
python openai_modify.py

# API 연결 테스트만 실행
python openai_modify.py test
```

## 💡 사용 방법

### 기본 실행
1. 프로그램을 실행하면 자동으로 API 키를 확인합니다
2. API 키가 없으면 `.env` 파일 생성을 도와줍니다
3. 원하는 이미지 수정 내용을 프롬프트로 입력하세요

### 예시 프롬프트
- "캐릭터에게 빨간 모자를 씌워줘"
- "배경을 바다로 바꿔줘"
- "캐릭터를 웃게 만들어줘"
- "캐릭터가 책을 들고 있게 해줘"
- "캐릭터 옆에 고양이를 추가해줘"

## 🔧 주요 기능

### 1. 자동 환경 설정
- API 키 없을 시 친절한 안내 메시지
- `.env` 파일 자동 생성 도우미
- API 연결 상태 확인

### 2. 이미지 처리
- URL에서 이미지 자동 다운로드
- 이미지 크기 자동 조정 (OpenAI API 제한에 맞춤)
- 생성된 이미지 자동 저장

### 3. 에러 처리
- 상세한 에러 메시지 및 해결 방법 안내
- API 호출 실패 시 가능한 원인 제시
- 네트워크 및 권한 문제 대응

## 📁 파일 구조

```
openai_modify.py          # 메인 실행 파일
.env                      # API 키 설정 파일 (사용자가 생성)
modified_image_*.png      # 생성된 이미지 파일들
```

## ⚠️ 주의사항

1. **API 키 보안**: API 키는 절대 코드에 직접 입력하지 마세요
2. **API 비용**: DALL-E API는 유료 서비스입니다 (이미지당 약 $0.04)
3. **콘텐츠 정책**: OpenAI의 콘텐츠 정책을 준수해야 합니다
4. **인터넷 연결**: API 호출을 위해 안정적인 인터넷 연결이 필요합니다

## 🐛 문제 해결

### "API 키가 설정되지 않았습니다" 에러
- `.env` 파일이 올바른 위치에 있는지 확인
- API 키가 정확히 입력되었는지 확인
- 파일 인코딩이 UTF-8인지 확인

### "API 호출 실패" 에러
- API 키가 유효한지 확인
- 계정에 충분한 크레딧이 있는지 확인  
- 프롬프트에 부적절한 내용이 없는지 확인

### 이미지 다운로드 실패
- 인터넷 연결 상태 확인
- 이미지 URL이 접근 가능한지 확인

## 📞 지원

문제가 발생하면 다음을 확인해보세요:
1. Python 버전 (3.7 이상 권장)
2. 필요한 라이브러리 설치 상태
3. OpenAI API 키 유효성
4. 네트워크 연결 상태

## 🔄 업데이트 내역

- v1.0: 기본 이미지 생성 기능
- v1.1: 에러 처리 및 사용자 경험 개선
- v1.2: API 연결 테스트 기능 추가



